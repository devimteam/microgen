// Code generated by microgen 0.9.0. DO NOT EDIT.

// DO NOT EDIT.
package transportgrpc

import (
	pb "github.com/devimteam/microgen/examples/protobuf"
	transport "github.com/devimteam/microgen/examples/usersvc/pkg/transport"
	log "github.com/go-kit/kit/log"
	opentracing "github.com/go-kit/kit/tracing/opentracing"
	grpc "github.com/go-kit/kit/transport/grpc"
	empty "github.com/golang/protobuf/ptypes/empty"
	opentracinggo "github.com/opentracing/opentracing-go"
	context "golang.org/x/net/context"
)

type userServiceServer struct {
	createUser      grpc.Handler
	updateUser      grpc.Handler
	getUser         grpc.Handler
	findUsers       grpc.Handler
	createComment   grpc.Handler
	getComment      grpc.Handler
	getUserComments grpc.Handler
}

func NewGRPCServer(endpoints *transport.EndpointsSet, logger log.Logger, tracer opentracinggo.Tracer, opts ...grpc.ServerOption) pb.UserServiceServer {
	return &userServiceServer{
		createComment: grpc.NewServer(
			endpoints.CreateCommentEndpoint,
			_Decode_CreateComment_Request,
			_Encode_CreateComment_Response,
			append(opts, grpc.ServerBefore(
				opentracing.GRPCToContext(tracer, "CreateComment", logger)))...,
		),
		createUser: grpc.NewServer(
			endpoints.CreateUserEndpoint,
			_Decode_CreateUser_Request,
			_Encode_CreateUser_Response,
			append(opts, grpc.ServerBefore(
				opentracing.GRPCToContext(tracer, "CreateUser", logger)))...,
		),
		findUsers: grpc.NewServer(
			endpoints.FindUsersEndpoint,
			_Decode_FindUsers_Request,
			_Encode_FindUsers_Response,
			append(opts, grpc.ServerBefore(
				opentracing.GRPCToContext(tracer, "FindUsers", logger)))...,
		),
		getComment: grpc.NewServer(
			endpoints.GetCommentEndpoint,
			_Decode_GetComment_Request,
			_Encode_GetComment_Response,
			append(opts, grpc.ServerBefore(
				opentracing.GRPCToContext(tracer, "GetComment", logger)))...,
		),
		getUser: grpc.NewServer(
			endpoints.GetUserEndpoint,
			_Decode_GetUser_Request,
			_Encode_GetUser_Response,
			append(opts, grpc.ServerBefore(
				opentracing.GRPCToContext(tracer, "GetUser", logger)))...,
		),
		getUserComments: grpc.NewServer(
			endpoints.GetUserCommentsEndpoint,
			_Decode_GetUserComments_Request,
			_Encode_GetUserComments_Response,
			append(opts, grpc.ServerBefore(
				opentracing.GRPCToContext(tracer, "GetUserComments", logger)))...,
		),
		updateUser: grpc.NewServer(
			endpoints.UpdateUserEndpoint,
			_Decode_UpdateUser_Request,
			_Encode_UpdateUser_Response,
			append(opts, grpc.ServerBefore(
				opentracing.GRPCToContext(tracer, "UpdateUser", logger)))...,
		),
	}
}

func (S *userServiceServer) CreateUser(ctx context.Context, req *pb.CreateUserRequest) (*pb.CreateUserResponse, error) {
	_, resp, err := S.createUser.ServeGRPC(ctx, req)
	if err != nil {
		return nil, err
	}
	return resp.(*pb.CreateUserResponse), nil
}

func (S *userServiceServer) UpdateUser(ctx context.Context, req *pb.UpdateUserRequest) (*empty.Empty, error) {
	_, resp, err := S.updateUser.ServeGRPC(ctx, req)
	if err != nil {
		return nil, err
	}
	return resp.(*empty.Empty), nil
}

func (S *userServiceServer) GetUser(ctx context.Context, req *pb.GetUserRequest) (*pb.GetUserResponse, error) {
	_, resp, err := S.getUser.ServeGRPC(ctx, req)
	if err != nil {
		return nil, err
	}
	return resp.(*pb.GetUserResponse), nil
}

func (S *userServiceServer) FindUsers(ctx context.Context, req *empty.Empty) (*pb.FindUsersResponse, error) {
	_, resp, err := S.findUsers.ServeGRPC(ctx, req)
	if err != nil {
		return nil, err
	}
	return resp.(*pb.FindUsersResponse), nil
}

func (S *userServiceServer) CreateComment(ctx context.Context, req *pb.CreateCommentRequest) (*pb.CreateCommentResponse, error) {
	_, resp, err := S.createComment.ServeGRPC(ctx, req)
	if err != nil {
		return nil, err
	}
	return resp.(*pb.CreateCommentResponse), nil
}

func (S *userServiceServer) GetComment(ctx context.Context, req *pb.GetCommentRequest) (*pb.GetCommentResponse, error) {
	_, resp, err := S.getComment.ServeGRPC(ctx, req)
	if err != nil {
		return nil, err
	}
	return resp.(*pb.GetCommentResponse), nil
}

func (S *userServiceServer) GetUserComments(ctx context.Context, req *pb.GetUserCommentsRequest) (*pb.GetUserCommentsResponse, error) {
	_, resp, err := S.getUserComments.ServeGRPC(ctx, req)
	if err != nil {
		return nil, err
	}
	return resp.(*pb.GetUserCommentsResponse), nil
}
